function routeConfig(a,b){b.html5Mode(!0),a.when("/",{templateUrl:"app/views/home.html",controller:"HomeController",controllerAs:"home"}).when("/shopping",{templateUrl:"app/views/shop.html",controller:"ShopController",controllerAs:"shop"}).when("/cart",{templateUrl:"app/views/cart.html",controller:"CartController",controllerAs:"cart"}).when("/about",{templateUrl:"app/views/about.html",controller:"AboutController",controllerAs:"about"}).when("/contact",{templateUrl:"app/views/contact.html",controller:"ContactController",controllerAs:"contact"}).when("/product",{templateUrl:"app/views/product.html",controller:"ProductController",controllerAs:"product"}).otherwise({redirectTo:"/"})}function dataService(a,b){function c(a,b){function c(b,c,d){return a[b].subcategories[c].items[d]}b.push(c(0,0,0)),b.push(c(0,0,1)),b.push(c(3,0,16)),b.push(c(3,1,0))}function d(a,b,c){a.forEach(function(a){a.subcategories.forEach(function(a){a.items.forEach(function(a){if(a.name===b.name)return void(b.product=a)})})}),c()}function e(){var c=b.defer();return a.get("https://webmppcapstone.blob.core.windows.net/data/itemsdata.json").then(function(a){c.resolve(a.data)}),c.promise}return{getData:e,home:{homeProductData:c},product:{getProduct:d}}}function cartService(a){function b(a){$("#cart-qty").css("display","block");var b=i.getCart(),c=0;a.qty=0,b.length>0?b.forEach(function(b){c+=b.qty,a.qty=c>9?"9+":c}):$("#cart-qty").css("display","none")}function c(a,b){return a.some(function(a){return b.name===a.name})}function d(b,d){var e=i.getCart();void 0!=a.localStorage.cart&&c(e,d)&&(e.forEach(function(a){if(a.name===d.name)return void(a.qty=b)}),e=JSON.stringify(e),a.localStorage.cart=e)}function e(b){var c=i.getCart();c=c.filter(function(a){return a.name!=b.name}),c=JSON.stringify(c),a.localStorage.cart=c}function f(){a.localStorage.removeItem("cart")}function g(){return a.localStorage.cart?JSON.parse(a.localStorage.cart):[]}function h(b){var d=i.getCart();if(void 0==a.localStorage.cart||c(d,b)){if(c(d,b))return;d.push(b),d=JSON.stringify(d),a.localStorage.cart=d}else d.push(b),d=JSON.stringify(d),a.localStorage.cart=d}var i={addToCart:h,removeFromCart:e,clearCart:f,updateQty:d,getCart:g,cartQty:b};return i}function locationService(a,b){function c(a){b.path("/product").search("name",a)}function d(){a.history.back()}function e(){return b.search().name}return{redirect:c,back:d,search:e}}function initService(a){function b(b){a.getData().then(function(a){b(a)},function(a){console.log(a)})}return{getData:b}}function shopStateService(){function a(a){a.subcategoryLength=b.subcategory.items.length,a.products=b.subcategory.items}var b={num:0,subData:a,subcategory:[]};return b}function shopControllerService(a){function b(b){var c={image:b.imagelink,name:b.name,unitPrice:b.price,qty:1};a.addToCart(c)}function c(a,b){a.subcategory=b,a.subcategoryLength=b.items.length,a.products=b.items}function d(a,b){a.products=!1===b?a.subcategory.items:a.products.filter(function(a){return Number(a.stock)>0})}function e(a,b){sorts={none:"",alphabetical:"name",price:"price",rating:"rating"},a.filter=sorts[b]}return{addToCart:b,updateProducts:c,inStock:d,sort:e}}function cartControllerService(a){function b(a){return a.cart.map(function(a){return{name:a.name,unitPrice:a.unitPrice,qty:a.qty}})}function c(a,b){for(var c=0,d=0;d<a.length;d++)c+=a[d].unitPrice*a[d].qty;b.subtotal=c.toFixed(2),b.tax=(b.subtotal/10).toFixed(2),0==b.subtotal&&(b.shipping="0.00"),b.total=(Number(b.subtotal)+Number(b.shipping)+Number(b.tax)).toFixed(2)}function d(b,c,d,e,f){a.updateQty(c,d),e.subtotalArray[b].qty=c,f()}function e(b,c,d){a.removeFromCart(b),c.subtotalArray=c.subtotalArray.filter(function(a){return a.name!=b.name}),d(),c.cart=a.getCart()}function f(b,c){var d=b.details.name+" your purchase worth $"+b.total+" has been shipped to "+b.details.address+", "+b.details.city+". Thank you for your patronage, we hope to hear from you soon.";a.clearCart(),b.cart=a.getCart(),b.subtotalArray=[],c(),alert(d)}return{subtotalArray:b,subtotal:c,updateQty:d,removeFromCart:e,checkout:f}}function carousel(a){return{restrict:"E",templateUrl:"app/views/directiveViews/carousel.html",link:function(a,b,c){function d(a,b,c){$(a.array[b]).animate({left:a.sign1+a.leftAnimate,opacity:0},500,function(){$(a.array[b]).removeClass("vissible").css({left:a.left,opacity:"1"})}),setTimeout(function(){$(a.array[c]).css({opacity:"0",left:a.sign2+a.nextCss}).addClass("vissible").animate({opacity:1,left:a.sign1+"="+a.nextLeft},500)},20)}function e(){var a={array:h,sign1:"+",sign2:"-"};$(".not-phone").is(":visible")?(a.left="33.5%",a.leftAnimate="=67%",a.nextLeft="100.5%",a.nextCss="67%"):(a.left="25%",a.leftAnimate="=50%",a.nextLeft="75%",a.nextCss="50%");for(var b=0;b<h.length;b++){if("vissible"==h[b].className&&b!=h.length-1){d(a,b,b+1);break}if("vissible"==h[b].className&&b==h.length-1){d(a,b,0);break}}}function f(){var a={array:h,sign1:"-",sign2:"+"};$(".not-phone").is(":visible")?(a.left="33.5%",a.leftAnimate="=67%",a.nextLeft="67%",a.nextCss="100.5%"):(a.left="25%",a.leftAnimate="=50%",a.nextLeft="50%",a.nextCss="75%");for(var b=0;b<h.length;b++){if("vissible"==h[b].className&&0!=b){d(a,b,b-1);break}if("vissible"==h[b].className&&0==b){d(a,b,h.length-1);break}}}function g(){callRotateInterval=setInterval(function(){f()},3e3)}var h=$("#carousel figure");$("#toggle-carousel").change(function(){this.checked?g():clearInterval(callRotateInterval)}),$("#next").click(function(){$("#toggle-carousel").is(":checked")?(clearInterval(callRotateInterval),$("figure").is(":animated")?$("figure").promise().done(function(){f()}):f(),g()):f()}),$("#back").click(function(){$("#toggle-carousel").is(":checked")?(clearInterval(callRotateInterval),$("figure").is(":animated")?$("figure").promise().done(function(){e()}):e(),g()):e()})}}}function nav(a){return{restrict:"E",templateUrl:"app/views/directiveViews/nav.html",link:function(b,c,d){function e(){"/"==window.location.pathname?($(".home").addClass("active"),$("#cart").removeClass("active"),$("#shopping").removeClass("active"),$(".container").removeClass("shop-container")):"/cart"==window.location.pathname?($(".home").removeClass("active"),$("#cart").addClass("active"),$("#shopping").removeClass("active"),$(".container").addClass("shop-container")):"/shopping"==window.location.pathname?($(".home").removeClass("active"),$("#cart").removeClass("active"),$("#shopping").addClass("active"),$(".container").addClass("shop-container")):($(".home").removeClass("active"),$("#cart").removeClass("active"),$("#shopping").removeClass("active"),$(".container").removeClass("shop-container"))}function f(){$(".bars").click(function(){$(".mobile-menu").toggleClass("nav-hide")})}a.cartQty(b),e(),b.$on("$locationChangeSuccess",function(){e(),a.cartQty(b),$(".mobile-menu").addClass("nav-hide")}),f()}}}function topDirective(){return{restrict:"E",templateUrl:"app/views/directiveViews/top.html",link:function(a,b,c){$(".scrollToTop").click(function(){return $("html, body").animate({scrollTop:0},"slow"),!1})}}}function HomeController(a,b,c,d){var e=this;e.products=[],c.redirect=function(a){d.redirect(a)},a.getData(function(a){b.home.homeProductData(a,e.products)})}function ShopController(a,b,c,d,e,f){var g=this;g.data,0===f.num?(g.subcategory,g.subcategoryLength,g.products):(g.subcategory=f.subcategory,g.subcategoryLength=f.subcategory.items.length,g.products=f.subcategory.items),g.addToCart=function(c){e.addToCart(c),b.cartQty(a)},g.updateProducts=function(a){e.updateProducts(g,a),g.checkStatus&&g.inStock(),f.subcategory=a,f.subData(g)},g.inStock=function(a){e.inStock(g,a)},g.sort=function(a){e.sort(g,a)},g.redirect=function(a){d.redirect(a)},c.getData(function(a){g.data=a}),0===f.num&&(c.getData(function(a){g.data=a,f.subcategory=a[3].subcategories[0],g.subcategory=f.subcategory,f.subData(g)}),f.num++)}function CartController(a,b,c){var d=this;d.subtotal,d.shipping="10.00",d.tax,d.total,d.cart=b.getCart(),d.subtotalArray=c.subtotalArray(d),c.subtotal(d.subtotalArray,d),d.updateQty=function(e,f,g){c.updateQty(e,f,g,d,function(){c.subtotal(d.subtotalArray,d)}),b.cartQty(a)},d.removeFromCart=function(e){c.removeFromCart(e,d,function(){c.subtotal(d.subtotalArray,d)}),b.cartQty(a)},d.checkout=function(){c.checkout(d,function(){c.subtotal(d.subtotalArray,d)}),b.cartQty(a)}}function AboutController(){}function ContactController(){var a=this;a.contact=function(){var b=a.details,c=b.name+" your feedback on "+b.select+" with details: "+b.message+" , have been recieved. Please check your email: "+b.email+" with in 2 days for a reply from us. Thank you for shopping with Grocery Cloud.";alert(c)}}function ProductController(a,b,c,d,e,b){var f,g=this;g.product,g.qty=1,g.name=e.search(),g.ratingArray=[],g.notRatingArray=[],g.back=function(){e.back()},g.updateQty=function(c){f.qty=c,b.updateQty(c,f),b.cartQty(a)},g.addToCart=function(){b.addToCart(f),b.cartQty(a)},c.getData(function(a){d.product.getProduct(a,g,function(){g.product.price=g.product.price.toFixed(2);for(var a=5-g.product.rating,b=0;b<g.product.rating;b++)g.ratingArray.push(b);if(a>0)for(var c=0;c<a;c++)g.notRatingArray.push(c)}),f={image:g.product.imagelink,name:g.product.name,unitPrice:g.product.price,qty:g.qty}})}angular.module("app",["ngRoute","angular-loading-bar","ngAnimate"]),angular.module("app").config(["$routeProvider","$locationProvider",routeConfig]),angular.module("app").run(["$rootScope","$anchorScroll",function(a,b){a.$on("$locationChangeSuccess",function(){b()})}]),angular.module("app").config(["cfpLoadingBarProvider",function(a){a.includeBar=!1}]),angular.module("app").factory("dataService",["$http","$q",dataService]),angular.module("app").factory("cartService",["$window",cartService]),angular.module("app").factory("locationService",["$window","$location",locationService]),angular.module("app").factory("initService",["dataService",initService]),angular.module("app").factory("shopStateService",[shopStateService]),angular.module("app").factory("shopControllerService",["cartService",shopControllerService]),angular.module("app").factory("cartControllerService",["cartService",cartControllerService]),angular.module("app").directive("carouselDirective",["dataService",carousel]),angular.module("app").directive("navDirective",["cartService",nav]),angular.module("app").directive("topDirective",[topDirective]),angular.module("app").controller("HomeController",["initService","dataService","$scope","locationService",HomeController]),angular.module("app").controller("ShopController",["$rootScope","cartService","initService","locationService","shopControllerService","shopStateService",ShopController]),angular.module("app").controller("CartController",["$rootScope","cartService","cartControllerService",CartController]),angular.module("app").controller("AboutController",[AboutController]),angular.module("app").controller("ContactController",[ContactController]),angular.module("app").controller("ProductController",["$rootScope","cartService","initService","dataService","locationService","cartService",ProductController]),angular.module("alcCapstoneProjectApp").run(["$templateCache",function(a){"use strict";a.put("views/about.html",'<section id="about-section"> <div class="hero-image"> <div class="hero-text"> <h1>Get To Know Us</h1> </div> </div> <div class="container"> <div class="section"> <h2>Who We Are</h2> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p> </div> </div> <div class="hero-image2"> <div class="hero-text"> <h1>Care For Some?</h1> </div> </div> <div class="container"> <div class="section"> <h2>What We Offer</h2> <div class="row"> <div class="sm-col-4"> <i class="fas fa-truck"></i> <h3>Global Delivery</h3> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p> </div> <div class="sm-col-4"> <i class="far fa-clock"></i> <h3>Speedy Delivery</h3> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p> </div> <div class="sm-col-4"> <i class="fas fa-leaf"></i> <h3>Quality Assurance</h3> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p> </div> </div> </div> </div> <top-directive></top-directive> </section>'),a.put("views/cart.html",'<section id="cart-section"> <div class="row"> <div class="sm-col-8"> <h3>Shopping Cart</h3> <table ng-if="cart.cart.length != 0"> <thead> <tr> <th class="img-div">image</th> <th>name</th> <th>unit price</th> <th>qty</th> <th class="phone-table">cost</th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="product in cart.cart"> <td> <div class="img-div"> <img src="{{product[\'image\']}}"> </div> </td> <td>{{product[\'name\']}}</td> <td class="price">${{product[\'unitPrice\']}}</td> <td> <input type="number" ng-init="qty=product[\'qty\']" class="qty" ng-model="qty" ng-change="cart.updateQty($index, qty, product)" min="1"> </td> <td class="price phone-table">${{(product.unitPrice * qty).toFixed(2)}}</td> <td> <i ng-click="cart.removeFromCart(product)" class="fas fa-times-circle delete"></i> </td> </tr> </tbody> </table> <div ng-if="cart.cart.length == 0" class="empty-cart"> <div class="cart-svg"> <i class="ion-ios-cart-outline"></i> </div> <div> <p>Shopping cart is empty, continue shopping &nbsp;&nbsp;<a href="/shopping" class="btn"><i class="fas fa-shopping-cart"></i>&nbsp;&nbsp;Shop All</a></p> </div> </div> </div> <div class="sm-col-4"> <h3 id="details-head">Enter Shipping Details</h3> <form name="form" ng-submit="cart.checkout()"> <input type="text" required placeholder="Name" ng-model="cart.details.name"> <br> <input type="text" required placeholder="Address" ng-model="cart.details.address"> <br> <input type="text" required placeholder="City" ng-model="cart.details.city"> <br> <input type="text" required placeholder="Phone Number" ng-model="cart.details.phone"> <br> <p>Subtotal: <span class="price">${{cart.subtotal}}</span></p> <p>Shipping: <span class="price">${{cart.shipping}}</span></p> <p>Tax(10%): <span class="price">${{cart.tax}}</span></p> <p>Total: <span class="price">${{cart.total}}</span></p> <input class="btn right" type="submit" ng-disabled="cart.total == 0" value="Checkout"> </form> </div> </div> <top-directive></top-directive> </section>'),a.put("views/contact.html",'<section id="contact-section"> <div class="container"> <h2>Contact Us</h2> <p>Have a question, suggestion or complaints?<br> Please fill the form below, and we will get back to you as soon as possible.<br> You can also contact us through<br> E-mail: <strong>grocerycloud@cloud.com</strong> <br> Phone: <strong>08012345678</strong></p> <form name="form" ng-submit="contact.contact()"> <div class="block"> <input type="text" required placeholder="Name" ng-model="contact.details.name"> <br> <input type="text" required placeholder="E-mail" ng-model="contact.details.email"> <br> <select ng-model="contact.details.select" required> <option value="">--Select Subject--</option> <option value="Inferio Product">Inferio Product</option> <option value="Cancle Purchase">Cancle Purchase</option> <option value="Positive Review">Positive Review</option> <option value="Negative Review">Negative Review</option> <option value="Other">Other</option> </select> <br> <textarea required placeholder="Message" ng-model="contact.details.message"></textarea> <br> <input class="btn" type="submit" value="Send"> </div> </form> </div> </section>'),a.put("views/directiveViews/carousel.html",'<div class="container"> <div id="carousel"> <figure class="vissible"> <a href="#" ng-click="redirect(home.products[0][\'name\'])"> <img src="{{home.products[0][\'imagelink\']}}"> <div class="priceNname not-phone"> <span class="fig-price">${{(home.products[0][\'price\']).toFixed(2)}}</span><br> <span class="fig-name">{{home.products[0][\'name\']}}</span> </div> </a> </figure> <figure> <a href="#" ng-click="redirect(home.products[1][\'name\'])"> <img src="{{home.products[1][\'imagelink\']}}"> <div class="priceNname not-phone"> <span class="fig-price">${{(home.products[1][\'price\']).toFixed(2)}}</span><br> <span class="fig-name">{{home.products[1][\'name\']}}</span> </div> </a> </figure> <figure> <a href="#" ng-click="redirect(home.products[2][\'name\'])"> <img src="{{home.products[2][\'imagelink\']}}"> <div class="priceNname not-phone"> <span class="fig-price">${{(home.products[2][\'price\']).toFixed(2)}}</span><br> <span class="fig-name">{{home.products[2][\'name\']}}</span> </div> </a> </figure> <figure> <a href="#" ng-click="redirect(home.products[3][\'name\'])"> <img src="{{home.products[3][\'imagelink\']}}"> <div class="priceNname not-phone"> <span class="fig-price">${{(home.products[3][\'price\']).toFixed(2)}}</span><br> <span class="fig-name">{{home.products[3][\'name\']}}</span> </div> </a> </figure> <i class="fas fa-angle-left" id="back"></i> <i class="fas fa-angle-right" id="next"></i> </div> </div>'),a.put("views/directiveViews/nav.html",'<nav id="main-nav"> <div class="container"> <ul> <div class="phone bars"> <i class="fas fa-bars"></i> </div> <li class="left"> <a href="/" id="home" class="home">Grocery Cloud</a> </li> <div class="right mobile-menu nav-hide"> <li class="phone"> <a href="/" class="home">Home</a> </li> <li class="left"> <a href="/shopping" id="shopping">Shop All</a> </li> <li class="left"> <div id="cart-container"> <a href="/cart" id="cart"> <div id="cart-qty">{{qty}}</div> <i class="fas fa-shopping-cart"></i> </a> </div> </li> </div> </ul> </div> </nav>'),a.put("views/directiveViews/top.html",'<a href="" class="scrollToTop"><i class="fas fa-angle-up"></i></a>'),a.put("views/home.html",'<section id="welcome-section"> <div class="container"> <h1>Welcome to Grocery Cloud</h1> <h3>Home to the best groceries. It dosen\'t get any better than this</h3> <a href="/shopping" class="btn"><i class="fas fa-shopping-cart"></i>&nbsp;&nbsp;Shop All</a><span id="toggle"><input type="checkbox" name="toggle-carousel" id="toggle-carousel">&nbsp;Toggle slide show</span> </div> <carousel-directive></carousel-directive> </section>'),a.put("views/product.html",'<section id="product-section"> <div class="container"> <div class="row"> <div class="sm-col-6 img-div"> <a href="" class="btn" ng-click="product.back()"><i class="fas fa-angle-left"></i>&nbsp;&nbsp;Back</a> <div id="img"> <img src="{{product.product[\'imagelink\']}}"> </div> </div> <div class="sm-col-6 about-product"> <h1>{{product.name}}</h1> <div id="rating"> <span ng-repeat="rate in product.ratingArray" class="rating"> <i class="fas fa-star"></i> </span> <span ng-repeat="notRate in product.notRatingArray" class="not-rating"> <i class="fas fa-star"></i> </span> </div> <p class="stock">In Stock: {{product.product[\'stock\']}}</p> <p class="price">${{product.product[\'price\']}}</p> <p class="description">{{product.product[\'description\']}}</p> <div> <label>Qty:</label>&nbsp;&nbsp; <input type="number" ng-init="qty=1" class="qty" ng-model="qty" ng-change="product.updateQty(qty)" min="1"> </div> <a href="" class="btn-ghost" ng-click="product.addToCart()"><i class="fas fa-plus"></i>&nbsp;&nbsp;Add To Cart</a> </div> </div> </div> </section>'),a.put("views/shop.html",'<section id="shop-section"> <div class="row"> <div class="sm-col-3"> <div id="cat-sub"> <div id="header"> <p>Categories</p> </div> <div ng-repeat="element in shop.data"> <h4 ng-model="clicked" ng-init="clicked=true" ng-click="clicked ? clicked=false: clicked=true">{{element[\'category\']}}</h4> <div class="sub-cats" ng-repeat="elem in element[\'subcategories\']" ng-hide="clicked"> <p ng-click="shop.updateProducts(elem)">{{elem[\'name\']}}</p> </div> </div> </div> </div> <div class="sm-col-9"> <div id="products"> <div class="row"> <div class="md-col-6"> <p>showing <code>{{shop.products.length}}</code> of <code>{{shop.subcategoryLength}}</code> items in <strong>{{shop.subcategory[\'name\']}}</strong></p> </div> <div class="md-col-6"> <div id="stock-sort"> <span><input type="checkbox" ng-init="checkStatus=false" ng-model="shop.checkStatus" ng-click="shop.inStock(shop.checkStatus)"> In stock Only</span> &nbsp;&nbsp; <span> <label>Sort by:</label> <select ng-model="myValue" ng-change="shop.sort(myValue)"> <option value="">None</option> <option value="alphabetical">Alphabetical</option> <option value="price">Price</option> <option value="rating">Rating</option> </select> </span> </div> </div> </div> <div class="row"> <div ng-repeat="product in shop.products | orderBy: shop.filter"> <div class="sm-col-4 md-col-3"> <div class="shop-product"> <div> <a href="#" ng-click="shop.redirect(product[\'name\'])"> <img src="{{product[\'imagelink\']}}"> </a> </div> <p class="name"><a href="#" ng-click="shop.redirect(product[\'name\'])">{{product[\'name\']}}</a></p> <p class="price">${{product[\'price\'].toFixed(2)}}</p> <a href="#" class="btn-ghost" ng-click="shop.addToCart(product)"><i class="fas fa-plus"></i>&nbsp;&nbsp;Add To Cart</a> </div> </div> </div> </div> </div> </div> </div> <top-directive></top-directive> </section>')}]);